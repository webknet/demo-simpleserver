(function(e){function t(t){for(var n,i,s=t[0],c=t[1],l=t[2],u=0,d=[];u<s.length;u++)i=s[u],o[i]&&d.push(o[i][0]),o[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);p&&p(t);while(d.length)d.shift()();return a.push.apply(a,l||[]),r()}function r(){for(var e,t=0;t<a.length;t++){for(var r=a[t],n=!0,i=1;i<r.length;i++){var c=r[i];0!==o[c]&&(n=!1)}n&&(a.splice(t--,1),e=s(s.s=r[0]))}return e}var n={},o={app:0},a=[];function i(e){return s.p+"js/"+({about:"about"}[e]||e)+"."+{about:"0dcb4733"}[e]+".js"}function s(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.e=function(e){var t=[],r=o[e];if(0!==r)if(r)t.push(r[2]);else{var n=new Promise(function(t,n){r=o[e]=[t,n]});t.push(r[2]=n);var a,c=document.createElement("script");c.charset="utf-8",c.timeout=120,s.nc&&c.setAttribute("nonce",s.nc),c.src=i(e),a=function(t){c.onerror=c.onload=null,clearTimeout(l);var r=o[e];if(0!==r){if(r){var n=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src,i=new Error("Loading chunk "+e+" failed.\n("+n+": "+a+")");i.type=n,i.request=a,r[1](i)}o[e]=void 0}};var l=setTimeout(function(){a({type:"timeout",target:c})},12e4);c.onerror=c.onload=a,document.head.appendChild(c)}return Promise.all(t)},s.m=e,s.c=n,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(r,n,function(t){return e[t]}.bind(null,n));return r},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/demo-simpleserver/",s.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var p=l;a.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"56d7":function(e,t,r){"use strict";r.r(t);r("cadf"),r("551c"),r("f751"),r("097d");var n=r("2b0e"),o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",[r("v-app-bar",{attrs:{app:""}},[r("v-toolbar-title",{staticClass:"headline text-uppercase"},[r("span",[e._v("MongoDB")]),r("span",{staticClass:"font-weight-light"},[e._v("SIMPLE APP CONNECTION")])]),r("v-spacer"),e.user?r("div",[e._v("\n          Welcome: "+e._s(e.user.name)+"\n          "),r("v-btn",{attrs:{text:""},on:{click:e.logout}},[r("span",{staticClass:"mr-2"},[e._v("logout")])])],1):r("div",[r("v-btn",{attrs:{text:""},on:{click:function(t){e.loginDialog=!e.loginDialog}}},[r("span",{staticClass:"mr-2"},[e._v("Login")])]),r("v-btn",{attrs:{text:""},on:{click:function(t){e.registerDialog=!e.registerDialog}}},[r("span",{staticClass:"mr-2"},[e._v("Register")])])],1)],1),r("v-content",[r("home")],1),r("v-dialog",{attrs:{persistent:"","max-width":"500px",transition:"dialog-transition"},model:{value:e.loginDialog,callback:function(t){e.loginDialog=t},expression:"loginDialog"}},[r("login",{attrs:{close:e.closeLoginDialog}})],1),r("v-dialog",{attrs:{persistent:"",overlay:!1,"max-width":"500px",transition:"dialog-transition"},model:{value:e.registerDialog,callback:function(t){e.registerDialog=t},expression:"registerDialog"}},[r("register",{attrs:{close:e.closeRegisterDialog}})],1)],1)},a=[],i=(r("8e6e"),r("ac6a"),r("456d"),r("bd86")),s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.user?r("todo"):e._e()],1)},c=[],l=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{attrs:{"grid-list-xs":""}},[r("v-toolbar",{attrs:{color:"primary",dark:""}},[r("v-toolbar-title",[e._v("TODO")]),r("v-spacer"),r("v-btn",{attrs:{icon:""}},[r("v-icon",[e._v("list")])],1),r("v-btn",{attrs:{icon:""}},[r("v-icon",[e._v("apps")])],1)],1),r("div",{staticClass:"pa-3"},[r("h2",[e._v(e._s(e.today.toDateString()))])]),r("v-card",{staticClass:"mt-3"},[r("v-card-text",[r("v-text-field",{attrs:{outlined:"",label:"task",autofocus:"",clearable:"","append-outer-icon":"send"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.add(t)},"click:append-outer":e.add},model:{value:e.task,callback:function(t){e.task=t},expression:"task"}})],1)],1),r("v-list",{staticClass:"mt-5"},[r("v-toolbar",[r("v-toolbar-title",[e._v("Your Tasks")]),r("v-spacer"),r("span",{staticClass:"title grey--text"},[e._v(e._s(e.tasks.length)+" tasks")]),r("div",[r("span",{staticClass:"caption"},[e._v("Â  "+e._s(e.done)+" completed")])])],1),r("v-progress-linear",{attrs:{value:e.completed}}),e._l(e.tasks,function(t,n){return[r("v-list-item",{key:n},[r("v-list-item-action",[r("v-checkbox",{on:{change:function(r){return e.update(t)}},model:{value:t.done,callback:function(r){e.$set(t,"done",r)},expression:"item.done"}})],1),r("v-list-item-content",[r("v-list-item-title",{staticClass:"headline",class:{done:t.done}},[e._v(e._s(t.description))]),r("v-list-item-subtitle",{staticClass:"font-weight-light"},[e._v("Added on: "+e._s(new Date(t.date).toDateString()))])],1),r("v-list-item-action",[t.done?r("v-btn",{attrs:{icon:""},on:{click:function(r){return e.remove(t)}}},[r("v-icon",{attrs:{color:"red"}},[e._v("clear")])],1):e._e()],1)],1),n+1<e.tasks.length?r("v-divider",{key:n+t}):e._e()]})],2),r("v-snackbar",{attrs:{color:"error","multi-line":"",right:""},model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:""}},[r("span",{staticClass:"caption font-weight-light"},[e._v("Task removed.")])]),r("v-flex",{attrs:{xs12:""}},[e._v("\n                "+e._s(e.snackbarText)+"\n            ")])],1),r("v-btn",{attrs:{text:"",dark:""},nativeOn:{click:function(t){e.snackbar=!1}}},[e._v("Close")])],1)],1)},u=[],p=(r("7514"),r("bc3a")),d=r.n(p);d.a.defaults.baseURL="https://simple-mongodb-server.herokuapp.com/",d.a.interceptors.request.use(function(e){return e.headers={"Content-Type":"application/json","x-auth-token":void 0===sessionStorage.token?"":sessionStorage.token},e}),d.a.interceptors.response.use(function(e){var t=e.headers["x-auth-token"];return null!=t&&""!=t&&(sessionStorage["token"]=t),e},function(e){return Promise.reject(e)});var f="demo";d.a.post("/db",JSON.stringify({db:f})).then(function(e){return console.log(e)});var v={register:function(e){return d.a.post("/users",JSON.stringify(e))},signin:function(e){return d.a.post("/users/auth",JSON.stringify(e))},saveChanges:function(e){return d.a.post("/api",JSON.stringify(e))},query:function(e){return d.a.post("/api",JSON.stringify(e))}},b={data:function(){return{task:"",tasks:[],today:new Date,check:!0,snackbar:!1,snackbarText:""}},computed:{completed:function(){return this.tasks.filter(function(e){return e.done}).length/this.tasks.length*100},done:function(){return this.tasks.filter(function(e){return e.done}).length}},methods:{add:function(){var e=this,t={collection:{name:"todo ".concat(this.$store.state.user._id),action:"insert",query:"One"},value:{description:this.task,done:!1,date:(new Date).getTime()}};v.saveChanges(t).then(function(t){e.tasks.push(t.data.ops[0]),e.task="",console.log(t)}).catch(function(e){return console.log(e.response)})},update:function(e){var t={collection:{name:"todo ".concat(this.$store.state.user._id),action:"update",query:"ById"},value:{filter:e._id,update:{$set:{done:e.done}}}};v.saveChanges(t).then(function(e){return console.log(e)}).catch(function(e){return console.log(e.response)})},remove:function(e){var t=this,r=this.tasks.find(function(t){return t._id==e._id});v.saveChanges({collection:{name:"todo ".concat(this.$store.state.user._id),action:"delete",query:"ById"},value:e._id}).then(function(e){t.tasks.splice(t.tasks.indexOf(r),1),t.snackbarText=r.description,t.snackbar=!0,console.log(e)})}},created:function(){var e=this;v.query({collection:{name:"todo ".concat(this.$store.state.user._id),action:"query",query:"Many",fields:""}}).then(function(t){e.tasks=t.data,console.log(t.data)}).catch(function(e){return console.log(e.response)})}},m=b,g=(r("b7cf"),r("2877")),h=r("6544"),y=r.n(h),O=r("8336"),k=r("b0af"),_=r("99d9"),w=r("ac7c"),x=r("a523"),j=r("ce7e"),P=r("0e8f"),V=r("132d"),D=r("a722"),S=r("8860"),C=r("da13"),T=r("1800"),E=r("5d23"),$=r("8e36"),q=r("2db4"),L=r("2fa4"),I=r("8654"),N=r("71d9"),R=r("2a7f"),F=Object(g["a"])(m,l,u,!1,null,null,null),A=F.exports;y()(F,{VBtn:O["a"],VCard:k["a"],VCardText:_["b"],VCheckbox:w["a"],VContainer:x["a"],VDivider:j["a"],VFlex:P["a"],VIcon:V["a"],VLayout:D["a"],VList:S["a"],VListItem:C["a"],VListItemAction:T["a"],VListItemContent:E["a"],VListItemSubtitle:E["b"],VListItemTitle:E["c"],VProgressLinear:$["a"],VSnackbar:q["a"],VSpacer:L["a"],VTextField:I["a"],VToolbar:N["a"],VToolbarTitle:R["a"]});var B=r("2f62");function U(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function J(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?U(r,!0).forEach(function(t){Object(i["a"])(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var M={components:{todo:A},computed:J({},Object(B["c"])({user:"user"}))},G=M,z=Object(g["a"])(G,s,c,!1,null,null,null),W=z.exports,Y=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-card",[r("v-toolbar",{attrs:{color:"primary",dark:""}},[r("v-toolbar-title",[e._v("Login")])],1),r("v-card-text",[r("v-form",{ref:"loginForm",attrs:{autocomplete:"off","lazy-validation":""},on:{submit:function(t){return t.preventDefault(),e.onSubmit(t)}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[r("v-text-field",{attrs:{name:"email",label:"Email","prepend-icon":"account_circle",rules:e.emailRules,type:"email","validate-on-blur":"",required:""},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}}),r("v-text-field",{attrs:{name:"password",label:"Password",rules:[function(e){return!!e||"Password is required"}],"prepend-icon":"lock","append-icon":e.ep?"visibility":"visibility_off",type:e.ep?"password":"text",required:""},on:{"click:append":function(t){e.ep=!e.ep},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submit(t)}},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}}),e.error?r("div",{staticStyle:{color:"red"}},[r("v-icon",{attrs:{color:"red"}},[e._v("error_outline")]),r("span",[e._v(" user or password error")])],1):e._e()],1)],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{text:""},on:{click:e.close}},[e._v("cancel")]),r("v-btn",{attrs:{text:"",disabled:!e.valid},on:{click:e.submit}},[e._v("login")])],1)],1)],1)},H=[];function K(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?K(r,!0).forEach(function(t){Object(i["a"])(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var X={props:{close:Function},data:function(){return{ep:!0,valid:!0,emailRules:[function(e){return!!e||"E-mail is required"},function(e){return/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(e)||"E-mail must be valid"}],user:{email:"",passsword:""},error:!1}},methods:Q({},Object(B["b"])({setUser:"login"}),{submit:function(){var e=this;this.error=!1,this.$refs.loginForm.validate()&&v.signin(this.user).then(function(t){e.setUser(t.data),console.log(t.data),e.close()}).catch(function(t){e.error=!0,console.log("error",t.response)})}})},Z=X,ee=r("4bd4"),te=Object(g["a"])(Z,Y,H,!1,null,null,null),re=te.exports;y()(te,{VBtn:O["a"],VCard:k["a"],VCardActions:_["a"],VCardText:_["b"],VForm:ee["a"],VIcon:V["a"],VSpacer:L["a"],VTextField:I["a"],VToolbar:N["a"],VToolbarTitle:R["a"]});var ne=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",[r("v-toolbar",{attrs:{color:"primary",dark:""}},[r("v-toolbar-title",[e._v("Register")])],1),r("v-card-text",[r("v-form",{ref:"form",attrs:{autocomplete:"off","lazy-validation":""},on:{submit:function(t){return t.preventDefault(),e.onSubmit(t)}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[r("v-text-field",{attrs:{name:"Name",label:"User name","prepend-icon":"account_circle",rules:[function(e){return!!e||"Name is required"}],type:"text","validate-on-blur":"",required:""},model:{value:e.user.name,callback:function(t){e.$set(e.user,"name",t)},expression:"user.name"}}),r("v-text-field",{attrs:{name:"email",label:"Email","prepend-icon":"account_circle",rules:e.emailRules,type:"email","validate-on-blur":"",required:""},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}}),r("v-text-field",{attrs:{name:"password",label:"Password",rules:[function(e){return!!e||"Password is required"}],"prepend-icon":"lock","append-icon":e.ep?"visibility":"visibility_off",type:e.ep?"password":"text",required:""},on:{"click:append":function(t){e.ep=!e.ep},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submit(t)}},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}}),e.error?r("div",{staticStyle:{color:"red"}},[r("v-icon",{attrs:{color:"red"}},[e._v("error_outline")]),r("span",[e._v(e._s(e.errorText))])],1):e._e()],1)],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{text:""},on:{click:e.close}},[e._v("cancel")]),r("v-btn",{attrs:{text:"",disabled:!e.valid},on:{click:e.submit}},[e._v("Save")])],1)],1)},oe=[];function ae(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ie(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ae(r,!0).forEach(function(t){Object(i["a"])(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ae(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var se={props:{close:Function},data:function(){return{ep:!0,valid:!0,emailRules:[function(e){return!!e||"E-mail is required"},function(e){return/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(e)||"E-mail must be valid"}],user:{name:"",email:"",passsword:""},error:!1,errorText:""}},methods:ie({},Object(B["b"])({setUser:"login"}),{submit:function(){var e=this;if(this.error=!1,this.$refs.form.validate()){var t={collection:{action:"insert"},value:ie({},this.user)};v.register(t).then(function(t){e.setUser(t.data),e.close(),console.log(t)}).catch(function(t){e.error=!0,e.errorText=t.response.data,console.log(t.response)})}}})},ce=se,le=Object(g["a"])(ce,ne,oe,!1,null,null,null),ue=le.exports;function pe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function de(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pe(r,!0).forEach(function(t){Object(i["a"])(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pe(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}y()(le,{VBtn:O["a"],VCard:k["a"],VCardActions:_["a"],VCardText:_["b"],VForm:ee["a"],VIcon:V["a"],VSpacer:L["a"],VTextField:I["a"],VToolbar:N["a"],VToolbarTitle:R["a"]});var fe={name:"App",components:{home:W,login:re,register:ue},data:function(){return{loginDialog:!1,registerDialog:!1}},computed:de({},Object(B["c"])({user:"user"})),methods:{closeLoginDialog:function(){this.loginDialog=!1},closeRegisterDialog:function(){this.registerDialog=!1},logout:function(){this.$store.dispatch("login",null)}}},ve=fe,be=r("7496"),me=r("40dc"),ge=r("a75b"),he=r("169a"),ye=Object(g["a"])(ve,o,a,!1,null,null,null),Oe=ye.exports;y()(ye,{VApp:be["a"],VAppBar:me["a"],VBtn:O["a"],VContent:ge["a"],VDialog:he["a"],VSpacer:L["a"],VToolbarTitle:R["a"]});var ke=r("8c4f");n["a"].use(ke["a"]);var _e=new ke["a"]({mode:"history",base:"/demo-simpleserver/",routes:[{path:"/",name:"home",component:W},{path:"/about",name:"about",component:function(){return r.e("about").then(r.bind(null,"f820"))}}]});n["a"].use(B["a"]);var we=new B["a"].Store({state:{user:null},mutations:{USER_LOGGED_IN:function(e,t){e.user=t}},actions:{login:function(e,t){var r=e.commit;r("USER_LOGGED_IN",t)}}}),xe=r("f309");n["a"].use(xe["a"]);var je=new xe["a"]({icons:{iconfont:"mdi"}});n["a"].config.productionTip=!1,new n["a"]({router:_e,store:we,vuetify:je,render:function(e){return e(Oe)}}).$mount("#app")},b6ee:function(e,t,r){},b7cf:function(e,t,r){"use strict";var n=r("b6ee"),o=r.n(n);o.a}});
//# sourceMappingURL=app.bdd382ac.js.map